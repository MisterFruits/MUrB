# CMake entry point
cmake_minimum_required (VERSION 2.6)

project (murb)

# Specify bin path
set (EXECUTABLE_OUTPUT_PATH bin/${CMAKE_BUILD_TYPE})

# Génération de la liste des fichiers sources
file (GLOB_RECURSE source_files src/common/* src/murb/*)

# Déclaration de l'exécutable
add_executable (murb ${source_files})

# MIPP wrapper includes
if (EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/lib/MIPP/src/mipp.h")
    add_definitions (-DMIPP_ENABLE_BACKTRACE)
    include_directories ("${CMAKE_CURRENT_SOURCE_DIR}/lib/MIPP/src/")
    message(STATUS "MIPP found")
else ()
    message(FATAL_ERROR "MIPP can't be found, try to init the submodules with the following cmd:\n"
                        "$ git submodule update --init -- ../lib/MIPP/")
endif ()

# Enable C++11
if(CMAKE_COMPILER_IS_GNUCXX)
    add_definitions(-std=c++11)
endif()
